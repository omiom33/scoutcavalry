<!-- Main View Template -->
{% extends "base.html" %}
{% block title %}hosts{% endblock %}
{% block head %}
  {{ super() }}

    <!-- DATATABLES -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css"
          href="//cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <script type="text/javascript" charset="utf8"
                                   src="//cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>

      <script>
        $(document).ready( function () {
    $('#hosts_table').DataTable();
} );
</script>
    <!-- END DATABLES -->

{% endblock %}
{% block body %}
  {{ super() }}
     <div class="uk-panel">
     <table id="hosts_table" class="display uk-table uk-table-hover uk-table-small uk-table-striped
       uk-table-resonsive uk-width-1-1">
         <thead class="uk-background-secondary">
            <th class="uk-table-expand">Hostname</th>
            <th>IP</th>
            <th>Port</th>
            <th>Service</th>
            <th>Continent</th>
            <th>Country</th>
            <th>City</th>
            <th>Lat.</th>
            <th>Long.</th>
            <th>Image</th>
         </thead>
         <tbody> 
         {% for row in rows %}
            <tr>
               <td> {{row["hostname"]}}</td>
               <td>{{row["ip"]}}</td>
               <td>{{row["port"]}}</td>
               <td>{{row['service']}}</td>	
               <td>{{row['continent']}}</td>	
               <td>{{row['country']}}</td>	
               <td>{{row['city']}}</td>	
               <td>{{row['lat']}}</td>	
               <td>{{row['long']}}</td>
               {% if row['img_file'] == 'unavailable' -%}
               <td>N/A</td>
               {%- else -%}
               <td><a href="{{ url_for('display_screenshot', filename=row['img_file']) }}" target="_blank">Screenshot</a></td>
               {%- endif %}
            </tr>
         {% endfor %}
         </tbody>
      </table>
      <a href="" uk-totop></a>
     </div>
{% endblock %}
